(function(){"use strict";var e={542:function(e,t,i){var n=i(942),s=i(128);i(734);const r={id:"app"};function a(e,t,i,s,a,o){const c=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)("div",r,[(0,n.Wm)(c)])}var o={name:"app"},c=i(744);const l=(0,c.Z)(o,[["render",a]]);var u=l,d=i(201);const m={class:"container"},p={class:"row"};function h(e,t,i,s,r,a){const o=(0,n.up)("McSidebar"),c=(0,n.up)("McResultView");return(0,n.wg)(),(0,n.iD)("div",m,[(0,n._)("div",p,[(0,n.Wm)(o,{onRunSearch:a.updateQuery,results:s.results},null,8,["onRunSearch","results"]),(0,n.Wm)(c,{item:s.selectedItem},null,8,["item"])])])}const g={class:"col-md-3 mb-4"},f=(0,n._)("h4",null,"Search",-1),w={class:"form-group",id:"search_form"},y={class:"input-group"},v=(0,n._)("div",{class:"input-group-prepend"},[(0,n._)("span",{class:"input-group-text"},[(0,n._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[(0,n._)("path",{d:"M500.3 443.7l-119.7-119.7c27.22-40.41 40.65-90.9 33.46-144.7C401.8 87.79 326.8 13.32 235.2 1.723C99.01-15.51-15.51 99.01 1.724 235.2c11.6 91.64 86.08 166.7 177.6 178.9c53.8 7.189 104.3-6.236 144.7-33.46l119.7 119.7c15.62 15.62 40.95 15.62 56.57 0C515.9 484.7 515.9 459.3 500.3 443.7zM79.1 208c0-70.58 57.42-128 128-128s128 57.42 128 128c0 70.58-57.42 128-128 128S79.1 278.6 79.1 208z"})])])],-1),b=(0,n._)("h4",null,"Results",-1),_={class:"list-group",id:"search_results"};function k(e,t,i,s,r,a){const o=(0,n.up)("McItem");return(0,n.wg)(),(0,n.iD)("div",g,[f,(0,n._)("div",w,[(0,n._)("div",y,[v,(0,n.wy)((0,n._)("input",{type:"search",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>r.mutableQuery=e),onInput:t[1]||(t[1]=(...e)=>a.runSearch&&a.runSearch(...e)),placeholder:"Search"},null,544),[[n.nr,r.mutableQuery]])])]),b,(0,n._)("div",_,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.results,(e=>((0,n.wg)(),(0,n.j4)(o,{key:e.id,item:e,"show-name":!0,class:"list-group-item"},null,8,["item"])))),128))])])}var I=i(279),j=i.n(I),D=i(520);D.ZP.delete("minecraft");const S=new D.ZP("minecraft");S.version(1).stores({items:"++id, &name, displayName, texture",recipes:"++id, *ingredients, *result.id, type, inShape, base, addition, result"}),S.open(),S.on("ready",(e=>{e.items.count((t=>{if(t>0)console.log("Already populated");else{console.log("Database is empty. Populating from ajax call...");const t=new Promise(((e,t)=>{$.ajax("/minecraft-item-browser/js/items.json",{type:"get",dataType:"json",error:function(e,i){t(i)},success:function(t){e(t)}})})),i=new Promise(((e,t)=>{$.ajax("/minecraft-item-browser/js/recipes.json",{type:"get",dataType:"json",error:(e,i)=>{t(i)},success:t=>{e(t)}})})),n=be.currentRoute.value;new Promise.all([t,i]).then((t=>(console.log("Got ajax response. Adding objects.",t),console.log("Calling bulkAdd() to insert objects..."),new Promise.all([e.items.bulkAdd(t[0]),e.recipes.bulkAdd(t[1])])))).then((()=>(console.log("Done populating."),e.items.get({name:n.params.item_name})))).then((e=>{const t=n.matched[0].instances.default;t.setSelectedItem(e)}))}}))}));var x=S;const O={key:0,class:"text-muted"};function M(e,t,i,s,r,a){const o=(0,n.up)("router-link");return(0,n.wg)(),(0,n.j4)(o,{to:{name:"Home",params:{item_name:i.item.name}},class:"item-link","data-item-id":i.item.id,title:this.visibleName},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.item.textures,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{key:e,class:(0,n.C_)(`mc-block texture-${e}`),style:(0,n.j5)(a.textureStyles(t))},null,6)))),128)),i.showName?((0,n.wg)(),(0,n.iD)("span",O,(0,n.zw)(this.visibleName),1)):(0,n.kq)("",!0)]),void 0,!0),_:1},8,["to","data-item-id","title"])}var H={props:{item:{type:Object,required:!0},showName:{type:Boolean,default:!1}},computed:{visibleName(){return this.item.displayName?this.item.displayName:this.item.name}},methods:{textureStyles:function(e){const t={};return this.item.tint&&this.item.tint[e]&&(t.backgroundColor="rgba("+this.item.tint[e].join(",")+")"),t}},mounted(){this.showName||$(this.$el).tooltip({title:this.visibleName,position:"top"})},beforeUnmount(){$(this.$el).tooltip("dispose")}};const N=(0,c.Z)(H,[["render",M]]);var q=N,P={props:{results:Array},components:{McItem:q},created(){if(this.$route.params.item_name){let e=this;x.items.get({name:this.$route.params.item_name}).then((t=>{e.mutableQuery=t?t.displayName:e.$route.params.item_name,e.$emit("runSearch",e.mutableQuery)}))}},data(){return{mutableQuery:""}},computed:{runSearch(){return j()((function(e){this.$emit("runSearch",e.srcElement.value)}),50).bind(this)}}};const A=(0,c.Z)(P,[["render",k]]);var C=A;const R={key:0,class:"col-md-9"},T={class:"mb-5"},Z={key:0,class:"mb-4"},z=(0,n._)("h2",null,"Created By",-1),K={class:"row"},Q={key:1,class:"mb-4"},Y=(0,n._)("h2",null,"Used In",-1),B={class:"row"},F={key:2,class:"mb-4"},G=(0,n._)("h2",null,"Creates",-1),W={class:"row"},U={key:1,class:"col-md-9"},E=(0,n._)("p",null,"Do a search and select an item.",-1),V=[E];function L(e,t,i,s,r,a){const o=(0,n.up)("McRecipe");return i.item?((0,n.wg)(),(0,n.iD)("div",R,[(0,n._)("h1",T,(0,n.zw)(i.item.displayName),1),r.created_by.length?((0,n.wg)(),(0,n.iD)("div",Z,[z,(0,n._)("div",K,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.created_by,(e=>((0,n.wg)(),(0,n.j4)(o,{key:e.id,recipe:e,suggestedInput:i.item,showFooter:""},null,8,["recipe","suggestedInput"])))),128))])])):(0,n.kq)("",!0),r.used_in.length?((0,n.wg)(),(0,n.iD)("div",Q,[Y,(0,n._)("div",B,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.used_in,(e=>((0,n.wg)(),(0,n.j4)(o,{key:e.id,recipe:e,suggestedInput:i.item,showHeader:"",showFooter:""},null,8,["recipe","suggestedInput"])))),128))])])):(0,n.kq)("",!0),r.creates.length?((0,n.wg)(),(0,n.iD)("div",F,[G,(0,n._)("div",W,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.creates,(e=>((0,n.wg)(),(0,n.j4)(o,{key:e.id,recipe:e,suggestedInput:i.item,showHeader:"",showFooter:""},null,8,["recipe","suggestedInput"])))),128))])])):(0,n.kq)("",!0)])):((0,n.wg)(),(0,n.iD)("div",U,V))}const J={key:0,class:"col-6 col-xl-4 mb-3"},X={class:"card recipe"},ee={key:0,class:"card-header"},te={class:"mb-0"},ie={class:"card-body d-flex"},ne={key:0,class:"input-recipe"},se=(0,n._)("svg",{class:"chevron-right",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},[(0,n._)("path",{d:"M96 480c-8.188 0-16.38-3.125-22.62-9.375c-12.5-12.5-12.5-32.75 0-45.25L242.8 256L73.38 86.63c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0l192 192c12.5 12.5 12.5 32.75 0 45.25l-192 192C112.4 476.9 104.2 480 96 480z"})],-1),re={class:"result"},ae={class:"invslot"},oe={key:0,class:"count"},ce={key:1,class:"card-footer"};function le(e,t,i,s,r,a){const o=(0,n.up)("McItem");return a.isReady?((0,n.wg)(),(0,n.iD)("div",J,[(0,n._)("div",X,[i.showHeader?((0,n.wg)(),(0,n.iD)("div",ee,[(0,n._)("h4",te,(0,n.zw)(r.createsItem.displayName),1)])):(0,n.kq)("",!0),(0,n._)("div",ie,[a.inputGrid?((0,n.wg)(),(0,n.iD)("div",ne,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.inputGrid,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{key:t},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e,((e,t)=>((0,n.wg)(),(0,n.iD)("span",{class:"invslot",key:t},[null!=e?((0,n.wg)(),(0,n.j4)(o,{key:0,item:a.getIngredientItem(e)},null,8,["item"])):(0,n.kq)("",!0)])))),128))])))),128))])):(0,n.kq)("",!0),se,(0,n._)("span",re,[(0,n._)("div",ae,[(0,n.Wm)(o,{item:r.createsItem},null,8,["item"])]),i.recipe.result.count>1?((0,n.wg)(),(0,n.iD)("span",oe,(0,n.zw)(i.recipe.result.count),1)):(0,n.kq)("",!0)])]),i.showFooter?((0,n.wg)(),(0,n.iD)("div",ce,[(0,n.Wm)(o,{item:this.craftingTableItem,"show-name":!0},null,8,["item"])])):(0,n.kq)("",!0)])])):(0,n.kq)("",!0)}var ue={props:{recipe:Object,showHeader:{type:Boolean,default:!1},showFooter:{type:Boolean,default:!1},suggestedInput:{type:Object,default:void 0}},components:{McItem:q},data(){return{createsItem:void 0,loadedIngredients:void 0,craftingTableItem:void 0}},computed:{isReady(){return void 0!=this.createsItem&&void 0!=this.loadedIngredients&&void 0!=this.craftingTableItem},inputGrid(){let e=[[]];if("crafting_shaped"===this.recipe.type||"crafting_shapeless"===this.recipe.type){e=[[],[],[]];for(var t=0;t<9;t++){let i=Math.floor(t/3),n=t%3;this.recipe.inShape?this.recipe.inShape[i]?e[i][n]=this.recipe.inShape[i][n]:e[i][n]=null:this.recipe.ingredients&&(e[i][n]=this.recipe.ingredients[t])}}else"smelting"===this.recipe.type||"blasting"===this.recipe.type||"smoking"===this.recipe.type||"campfire_cooking"===this.recipe.type||"stonecutting"===this.recipe.type?(e=[[]],this.suggestedInput&&-1!==this.recipe.ingredients.indexOf(this.suggestedInput.id)?e[0][0]=this.suggestedInput.id:e[0][0]=this.recipe.ingredients[0]):("smithing"==this.recipe.type||"brewing"==this.recipe.type)&&(e=[[this.recipe.base,this.recipe.addition]]);return e}},methods:{getIngredientItem(e){return this.loadedIngredients.find((t=>t.id==e))}},created(){const e={crafting_shapeless:"crafting_table",crafting_shaped:"crafting_table",smelting:"furnace",stonecutting:"stonecutter",smithing:"smithing_table",blasting:"blast_furnace",smoking:"smoker",campfire_cooking:"campfire",brewing:"brewing_stand"};x.items.get({name:e[this.recipe.type]}).then((e=>{this.craftingTableItem=e})),x.items.get(this.recipe.result.id).then((e=>{this.createsItem=e})),x.items.bulkGet(this.recipe.ingredients).then((e=>{this.loadedIngredients=e}))}};const de=(0,c.Z)(ue,[["render",le]]);var me=de,pe={props:{item:Object},components:{McRecipe:me},data(){return{created_by:[],used_in:[],creates:[]}},watch:{item:function(e){const t={crafting_table:["crafting_shapeless","crafting_shaped"],furnace:["smelting"],stonecutter:["stonecutting"],smithing_table:["smithing"],blast_furnace:["blasting"],smoker:["smoking"],campfire:["campfire_cooking"],brewing_stand:["brewing"]};let i=this;x.recipes.where("result.id").equals(e.id).toArray().then((function(e){i.created_by=e})),x.recipes.where("ingredients").equals(e.id).toArray().then((function(e){i.used_in=e})),t[e.name]?x.recipes.where("type").anyOf(t[e.name]).toArray().then((function(e){i.creates=e})):this.creates=[]}}};const he=(0,c.Z)(pe,[["render",L]]);var ge=he,fe={components:{McSidebar:C,McResultView:ge},setup(){const e=(0,n.iH)(void 0),t=(0,n.iH)([]);return{selectedItem:e,results:t}},methods:{setSelectedItem(e){this.selectedItem=e},updateQuery(e){if(e.length){let t=this,i=new RegExp(e,"i");x.items.filter((e=>i.test(e.displayName))).limit(20).toArray().then((function(e){t.results=e}))}else this.results=[]}},watch:{"$route.params":{immediate:!0,handler(e){e.item_name&&x.items.get({name:e.item_name}).then((e=>{e&&this.setSelectedItem(e)}))}}}};const we=(0,c.Z)(fe,[["render",h]]);var ye=we;const ve=(0,d.p7)({history:(0,d.r5)(),routes:[{path:"/:item_name?",name:"Home",component:ye,props:!0}]});var be=ve;window.$=i(755);const _e=(0,n.ri)(u);_e.use(be),_e.use(s.ZP,{config:{id:"UA-527778-21"}},be),_e.mount("#app")}},t={};function i(n){var s=t[n];if(void 0!==s)return s.exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,i),r.exports}i.m=e,function(){var e=[];i.O=function(t,n,s,r){if(!n){var a=1/0;for(u=0;u<e.length;u++){n=e[u][0],s=e[u][1],r=e[u][2];for(var o=!0,c=0;c<n.length;c++)(!1&r||a>=r)&&Object.keys(i.O).every((function(e){return i.O[e](n[c])}))?n.splice(c--,1):(o=!1,r<a&&(a=r));if(o){e.splice(u--,1);var l=s();void 0!==l&&(t=l)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[n,s,r]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={826:0};i.O.j=function(t){return 0===e[t]};var t=function(t,n){var s,r,a=n[0],o=n[1],c=n[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(s in o)i.o(o,s)&&(i.m[s]=o[s]);if(c)var u=c(i)}for(t&&t(n);l<a.length;l++)r=a[l],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(u)},n=self["webpackChunkminecraft_browser"]=self["webpackChunkminecraft_browser"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=i.O(void 0,[998],(function(){return i(542)}));n=i.O(n)})();
//# sourceMappingURL=index.8233b30f.js.map