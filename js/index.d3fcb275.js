(function(){"use strict";var e={892:function(e,t,i){var s=i(913),n=i(265);i(736);const r={id:"app"};function a(e,t,i,n,a,o){const l=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",r,[(0,s.bF)(l)])}var o={name:"app"},l=i(262);const c=(0,l.A)(o,[["render",a]]);var u=c,d=i(220);const m={class:"container"},p={class:"row"};function h(e,t,i,n,r,a){const o=(0,s.g2)("McSidebar"),l=(0,s.g2)("McResultView");return(0,s.uX)(),(0,s.CE)("div",m,[(0,s.Lk)("div",p,[(0,s.bF)(o,{onRunSearch:a.updateQuery,results:n.results},null,8,["onRunSearch","results"]),(0,s.bF)(l,{item:n.selectedItem},null,8,["item"])])])}const g={class:"col-md-3 mb-4"},f=(0,s.Lk)("h4",null,"Search",-1),v={class:"form-group mb-3",id:"search_form"},b={class:"input-group"},y=(0,s.Lk)("span",{class:"input-group-text"},[(0,s.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[(0,s.Lk)("path",{d:"M500.3 443.7l-119.7-119.7c27.22-40.41 40.65-90.9 33.46-144.7C401.8 87.79 326.8 13.32 235.2 1.723C99.01-15.51-15.51 99.01 1.724 235.2c11.6 91.64 86.08 166.7 177.6 178.9c53.8 7.189 104.3-6.236 144.7-33.46l119.7 119.7c15.62 15.62 40.95 15.62 56.57 0C515.9 484.7 515.9 459.3 500.3 443.7zM79.1 208c0-70.58 57.42-128 128-128s128 57.42 128 128c0 70.58-57.42 128-128 128S79.1 278.6 79.1 208z"})])],-1),k=(0,s.Lk)("h4",null,"Results",-1),w={class:"list-group",id:"search_results"};function I(e,t,i,n,r,a){const o=(0,s.g2)("McItem");return(0,s.uX)(),(0,s.CE)("div",g,[f,(0,s.Lk)("div",v,[(0,s.Lk)("div",b,[y,(0,s.bo)((0,s.Lk)("input",{type:"search",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>r.mutableQuery=e),onInput:t[1]||(t[1]=(...e)=>a.runSearch&&a.runSearch(...e)),placeholder:"Search"},null,544),[[s.Jo,r.mutableQuery]])])]),k,(0,s.Lk)("div",w,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.results,(e=>((0,s.uX)(),(0,s.Wv)(o,{key:e.id,items:[e],"show-name":!0,class:"list-group-item"},null,8,["items"])))),128))])])}var _=i(221),C=i.n(_),E=i(830);E.Ay.delete("minecraft");const X=new E.Ay("minecraft");X.version(1).stores({items:"++id, &name, displayName, texture",recipes:"++id, *ingredients, *result.id, type, inShape, base, addition, result"}),X.open(),X.on("ready",(e=>{e.items.count((t=>{if(t>0)console.log("Already populated");else{console.log("Database is empty. Populating from ajax call...");const t=new Promise(((e,t)=>{$.ajax("/minecraft-item-browser/js/items.json",{type:"get",dataType:"json",error:function(e,i){t(i)},success:function(t){e(t)}})})),i=new Promise(((e,t)=>{$.ajax("/minecraft-item-browser/js/recipes.json",{type:"get",dataType:"json",error:(e,i)=>{t(i)},success:t=>{e(t)}})})),s=Ie.currentRoute.value;new Promise.all([t,i]).then((t=>(console.log("Got ajax response. Adding objects.",t),console.log("Calling bulkAdd() to insert objects..."),new Promise.all([e.items.bulkAdd(t[0]),e.recipes.bulkAdd(t[1])])))).then((()=>(console.log("Done populating."),e.items.get({name:s.params.item_name})))).then((e=>{const t=s.matched[0].instances.default;t.setSelectedItem(e)}))}}))}));var x=X;const S=["data-visible-item"],L={key:0,class:"text-muted"};function j(e,t,i,n,r,a){const o=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("span",{class:(0,s.C4)(i.showName?"":"invslot"),"data-visible-item":r.visibleItemIndex},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.items,(e=>((0,s.uX)(),(0,s.Wv)(o,{key:e.id,to:{name:"Home",params:{item_name:e.name}},class:"item-link","data-item-id":e.id,"data-bs-toggle":i.showName?null:"tooltip","data-bs-title":a.visibleName(e),title:a.visibleName(e)},{default:(0,s.k6)((()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.textures,((t,i)=>((0,s.uX)(),(0,s.CE)("div",{key:t,class:(0,s.C4)(`mc-block texture-${t}`),style:(0,s.Tr)(a.textureStyles(e,i))},null,6)))),128)),i.showName?((0,s.uX)(),(0,s.CE)("span",L,(0,s.v_)(a.visibleName(e)),1)):(0,s.Q3)("",!0)]),void 0,!0),_:2},1032,["to","data-item-id","data-bs-toggle","data-bs-title","title"])))),128))],10,S)}var A={props:{items:{type:Object,required:!0},showName:{type:Boolean,default:!1}},data(){return{interval:null,visibleItemIndex:0}},mounted(){this.items&&this.items.length>1&&(this.interval=setInterval((()=>{this.visibleItemIndex+=1,this.visibleItemIndex>=this.items.length&&(this.visibleItemIndex=0)}),1e3))},beforeUnmount(){this.interval&&clearInterval(this.interval)},methods:{visibleName:function(e){return e.displayName?e.displayName:e.name},textureStyles:function(e,t){const i={};return e.tint&&e.tint[t]&&(i.backgroundColor="rgba("+e.tint[t].join(",")+")"),i}}};const F=(0,l.A)(A,[["render",j]]);var O=F,M={props:{results:Array},components:{McItem:O},created(){if(this.$route.params.item_name){let e=this;x.items.get({name:this.$route.params.item_name}).then((t=>{e.mutableQuery=t?t.displayName:e.$route.params.item_name,e.$emit("runSearch",e.mutableQuery)}))}},data(){return{mutableQuery:""}},computed:{runSearch(){return C()((function(e){this.$emit("runSearch",e.srcElement.value)}),50).bind(this)}}};const Q=(0,l.A)(M,[["render",I]]);var N=Q;const R={key:0,class:"col-md-9"},T={class:"mb-5"},K={key:0,class:"mb-4"},P=(0,s.Lk)("h2",null,"Created By",-1),H={class:"row"},B={key:1,class:"mb-4"},G=(0,s.Lk)("h2",null,"Used In",-1),W={class:"row"},q={key:2,class:"mb-4"},U=(0,s.Lk)("h2",null,"Creates",-1),z={class:"row"},D={key:1,class:"col-md-9"},V=(0,s.Lk)("p",null,"Do a search and select an item.",-1),J=[V];function Y(e,t,i,n,r,a){const o=(0,s.g2)("McRecipe");return i.item?((0,s.uX)(),(0,s.CE)("div",R,[(0,s.Lk)("h1",T,(0,s.v_)(i.item.displayName),1),r.created_by.length?((0,s.uX)(),(0,s.CE)("div",K,[P,(0,s.Lk)("div",H,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.created_by,(e=>((0,s.uX)(),(0,s.Wv)(o,{key:e.id,recipe:e,suggestedInput:i.item,showFooter:""},null,8,["recipe","suggestedInput"])))),128))])])):(0,s.Q3)("",!0),r.used_in.length?((0,s.uX)(),(0,s.CE)("div",B,[G,(0,s.Lk)("div",W,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.used_in,(e=>((0,s.uX)(),(0,s.Wv)(o,{key:e.id,recipe:e,suggestedInput:i.item,showHeader:"",showFooter:""},null,8,["recipe","suggestedInput"])))),128))])])):(0,s.Q3)("",!0),r.creates.length?((0,s.uX)(),(0,s.CE)("div",q,[U,(0,s.Lk)("div",z,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.creates,(e=>((0,s.uX)(),(0,s.Wv)(o,{key:e.id,recipe:e,suggestedInput:i.item,showHeader:"",showFooter:""},null,8,["recipe","suggestedInput"])))),128))])])):(0,s.Q3)("",!0)])):((0,s.uX)(),(0,s.CE)("div",D,J))}const Z={key:0,class:"col-6 col-xl-4 mb-3"},ee={class:"card recipe"},te={key:0,class:"card-header"},ie={class:"mb-0"},se={class:"card-body d-flex"},ne={key:0,class:"input-recipe"},re=(0,s.Lk)("svg",{class:"chevron-right",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},[(0,s.Lk)("path",{d:"M96 480c-8.188 0-16.38-3.125-22.62-9.375c-12.5-12.5-12.5-32.75 0-45.25L242.8 256L73.38 86.63c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0l192 192c12.5 12.5 12.5 32.75 0 45.25l-192 192C112.4 476.9 104.2 480 96 480z"})],-1),ae={class:"result"},oe={key:0,class:"count"},le={key:1,class:"card-footer"};function ce(e,t,i,n,r,a){const o=(0,s.g2)("McItem");return a.isReady?((0,s.uX)(),(0,s.CE)("div",Z,[(0,s.Lk)("div",ee,[i.showHeader?((0,s.uX)(),(0,s.CE)("div",te,[(0,s.Lk)("h4",ie,(0,s.v_)(r.createsItem.displayName),1)])):(0,s.Q3)("",!0),(0,s.Lk)("div",se,[a.inputGrid?((0,s.uX)(),(0,s.CE)("div",ne,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.inputGrid,((e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:t},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e,((e,t)=>((0,s.uX)(),(0,s.CE)("span",{key:t},[(0,s.bF)(o,{items:a.getIngredientItems(e)},null,8,["items"])])))),128))])))),128))])):(0,s.Q3)("",!0),re,(0,s.Lk)("span",ae,[(0,s.bF)(o,{items:[r.createsItem]},null,8,["items"]),i.recipe.result.count>1?((0,s.uX)(),(0,s.CE)("span",oe,(0,s.v_)(i.recipe.result.count),1)):(0,s.Q3)("",!0)])]),i.showFooter?((0,s.uX)(),(0,s.CE)("div",le,[(0,s.bF)(o,{items:[this.craftingTableItem],"show-name":!0},null,8,["items"])])):(0,s.Q3)("",!0)])])):(0,s.Q3)("",!0)}var ue={props:{recipe:Object,showHeader:{type:Boolean,default:!1},showFooter:{type:Boolean,default:!1},suggestedInput:{type:Object,default:void 0}},components:{McItem:O},data(){return{createsItem:void 0,loadedIngredients:void 0,craftingTableItem:void 0}},computed:{isReady(){return void 0!=this.createsItem&&void 0!=this.loadedIngredients&&void 0!=this.craftingTableItem},inputGrid(){let e=[[]];if("crafting_shaped"===this.recipe.type||"crafting_shapeless"===this.recipe.type){e=[[],[],[]];for(var t=0;t<9;t++){let i=Math.floor(t/3),s=t%3;this.recipe.inShape?this.recipe.inShape[i]?e[i][s]=this.recipe.inShape[i][s]:e[i][s]=null:this.recipe.ingredients&&(e[i][s]=this.recipe.ingredients[t])}}else"smelting"===this.recipe.type||"blasting"===this.recipe.type||"smoking"===this.recipe.type||"campfire_cooking"===this.recipe.type||"stonecutting"===this.recipe.type?(e=[[]],this.suggestedInput&&-1!==this.recipe.ingredients.indexOf(this.suggestedInput.id)?e[0][0]=this.suggestedInput.id:e[0][0]=this.recipe.ingredients[0]):("smithing"==this.recipe.type||"brewing"==this.recipe.type)&&(e=[[this.recipe.base,this.recipe.addition]]);return e}},methods:{getIngredientItems(e){return e=Array.isArray(e)?e:[e],this.loadedIngredients.filter((t=>e.includes(t.id)))}},created(){const e={crafting_shapeless:"crafting_table",crafting_shaped:"crafting_table",smelting:"furnace",stonecutting:"stonecutter",smithing:"smithing_table",blasting:"blast_furnace",smoking:"smoker",campfire_cooking:"campfire",brewing:"brewing_stand"};x.items.get({name:e[this.recipe.type]}).then((e=>{this.craftingTableItem=e})),x.items.get(this.recipe.result.id).then((e=>{this.createsItem=e})),x.items.bulkGet(this.recipe.ingredients.flat()).then((e=>{this.loadedIngredients=e}))}};const de=(0,l.A)(ue,[["render",ce]]);var me=de,pe={props:{item:Object},components:{McRecipe:me},data(){return{created_by:[],used_in:[],creates:[]}},watch:{item:function(e){const t={crafting_table:["crafting_shapeless","crafting_shaped"],furnace:["smelting"],stonecutter:["stonecutting"],smithing_table:["smithing"],blast_furnace:["blasting"],smoker:["smoking"],campfire:["campfire_cooking"],brewing_stand:["brewing"]};let i=this;x.recipes.where("result.id").equals(e.id).toArray().then((function(e){i.created_by=e})),x.recipes.where("ingredients").equals(e.id).toArray().then((function(e){i.used_in=e})),t[e.name]?x.recipes.where("type").anyOf(t[e.name]).toArray().then((function(e){i.creates=e})):this.creates=[]}}};const he=(0,l.A)(pe,[["render",Y]]);var ge=he,fe=i(454),ve=i(163),be={components:{McSidebar:N,McResultView:ge},setup(){const e=(0,s.KR)(void 0),t=(0,s.KR)([]);return{selectedItem:e,results:t}},methods:{setSelectedItem(e){this.selectedItem=e},updateQuery(e){if(e.length){let t=this,i=new RegExp((0,ve.A)(e),"i");x.items.filter((e=>i.test(e.displayName))).limit(20).toArray().then((function(e){t.results=e}))}else this.results=[]}},mounted(){this.tooltipHandler=new fe.m_(this.$el,{selector:"[data-bs-toggle=tooltip]",offset:[0,24]})},watch:{"$route.params":{immediate:!0,handler(e){this.tooltipHandler&&document.querySelectorAll("body > div.tooltip").forEach((e=>{e.remove()})),e.item_name&&x.items.get({name:e.item_name}).then((e=>{e&&this.setSelectedItem(e)}))}}}};const ye=(0,l.A)(be,[["render",h]]);var ke=ye;const we=(0,d.aE)({history:(0,d.Bt)(),routes:[{path:"/:item_name?",name:"Home",component:ke,props:!0}]});var Ie=we;window.$=i(692);const _e=(0,s.Ef)(u);_e.use(Ie),_e.use(n.Ay,{config:{id:"UA-527778-21"}},Ie),_e.mount("#app")}},t={};function i(s){var n=t[s];if(void 0!==n)return n.exports;var r=t[s]={exports:{}};return e[s].call(r.exports,r,r.exports,i),r.exports}i.m=e,function(){var e=[];i.O=function(t,s,n,r){if(!s){var a=1/0;for(u=0;u<e.length;u++){s=e[u][0],n=e[u][1],r=e[u][2];for(var o=!0,l=0;l<s.length;l++)(!1&r||a>=r)&&Object.keys(i.O).every((function(e){return i.O[e](s[l])}))?s.splice(l--,1):(o=!1,r<a&&(a=r));if(o){e.splice(u--,1);var c=n();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[s,n,r]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={57:0};i.O.j=function(t){return 0===e[t]};var t=function(t,s){var n,r,a=s[0],o=s[1],l=s[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(n in o)i.o(o,n)&&(i.m[n]=o[n]);if(l)var u=l(i)}for(t&&t(s);c<a.length;c++)r=a[c],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(u)},s=self["webpackChunkminecraft_browser"]=self["webpackChunkminecraft_browser"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=i.O(void 0,[504],(function(){return i(892)}));s=i.O(s)})();
//# sourceMappingURL=index.d3fcb275.js.map